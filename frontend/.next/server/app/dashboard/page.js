(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},1802:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>u,tree:()=>d}),t(8256),t(4244),t(5866);var a=t(3191),r=t(8716),i=t(7922),l=t.n(i),n=t(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8256)),"C:\\Users\\Arnold E\\Downloads\\sd-dep\\frontend\\src\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4244)),"C:\\Users\\Arnold E\\Downloads\\sd-dep\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],x=["C:\\Users\\Arnold E\\Downloads\\sd-dep\\frontend\\src\\app\\dashboard\\page.tsx"],o="/dashboard/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6445:(e,s,t)=>{Promise.resolve().then(t.bind(t,5296))},5047:(e,s,t)=>{"use strict";var a=t(7389);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},5296:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>z});var a=t(326),r=t(4001),i=t(7577);t(8069),t(7330);var l=t(3220);function n(e,s){(0,l.Z)(1,arguments);var t,a,r,i=function(e){if(null===e||!0===e||!1===e)return NaN;var s=Number(e);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}(null!==(t=null==s?void 0:s.additionalDigits)&&void 0!==t?t:2);if(2!==i&&1!==i&&0!==i)throw RangeError("additionalDigits must be 0, 1 or 2");if(!("string"==typeof e||"[object String]"===Object.prototype.toString.call(e)))return new Date(NaN);var n=function(e){var s,t={},a=e.split(c.dateTimeDelimiter);if(a.length>2)return t;if(/:/.test(a[0])?s=a[0]:(t.date=a[0],s=a[1],c.timeZoneDelimiter.test(t.date)&&(t.date=e.split(c.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){var r=c.timezone.exec(s);r?(t.time=s.replace(r[1],""),t.timezone=r[1]):t.time=s}return t}(e);if(n.date){var g=function(e,s){var t=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),a=e.match(t);if(!a)return{year:NaN,restDateString:""};var r=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:null===i?r:100*i,restDateString:e.slice((a[1]||a[2]).length)}}(n.date,i);a=function(e,s){if(null===s)return new Date(NaN);var t,a,r=e.match(d);if(!r)return new Date(NaN);var i=!!r[4],l=m(r[1]),n=m(r[2])-1,c=m(r[3]),x=m(r[4]),o=m(r[5])-1;if(i)return x>=1&&x<=53&&o>=0&&o<=6?((t=new Date(0)).setUTCFullYear(s,0,4),a=t.getUTCDay()||7,t.setUTCDate(t.getUTCDate()+((x-1)*7+o+1-a)),t):new Date(NaN);var u=new Date(0);return n>=0&&n<=11&&c>=1&&c<=(h[n]||(p(s)?29:28))&&l>=1&&l<=(p(s)?366:365)?(u.setUTCFullYear(s,n,Math.max(l,c)),u):new Date(NaN)}(g.restDateString,g.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var N=a.getTime(),f=0;if(n.time&&isNaN(f=function(e){var s=e.match(x);if(!s)return NaN;var t=u(s[1]),a=u(s[2]),r=u(s[3]);return(24===t?0===a&&0===r:r>=0&&r<60&&a>=0&&a<60&&t>=0&&t<25)?36e5*t+6e4*a+1e3*r:NaN}(n.time)))return new Date(NaN);if(n.timezone){if(isNaN(r=function(e){if("Z"===e)return 0;var s=e.match(o);if(!s)return 0;var t="+"===s[1]?-1:1,a=parseInt(s[2]),r=s[3]&&parseInt(s[3])||0;return r>=0&&r<=59?t*(36e5*a+6e4*r):NaN}(n.timezone)))return new Date(NaN)}else{var j=new Date(N+f),y=new Date(0);return y.setFullYear(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate()),y.setHours(j.getUTCHours(),j.getUTCMinutes(),j.getUTCSeconds(),j.getUTCMilliseconds()),y}return new Date(N+f+r)}var c={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},d=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,x=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,o=/^([+-])(\d{2})(?::?(\d{2}))?$/;function m(e){return e?parseInt(e):1}function u(e){return e&&parseFloat(e.replace(",","."))||0}var h=[31,null,31,30,31,30,31,31,30,31,30,31];function p(e){return e%400==0||e%4==0&&e%100!=0}var g=t(8872),N=t(4659),f=t(1470),j=t(8998),y=t(997),v=t(6557);let b=(0,v.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),w=(0,v.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var D=t(6507);function k(){let{user:e}=(0,r.a)(),[s,t]=(0,i.useState)({totalPoints:0,pendingCertificates:0,approvedCertificates:0,upcomingDeadlines:0}),[l,c]=(0,i.useState)([]),[d,x]=(0,i.useState)([]),[o,m]=(0,i.useState)([]),[u,h]=(0,i.useState)(!0),p=e=>{switch(e){case"approved":return a.jsx(N.Z,{className:"w-5 h-5 text-green-500"});case"rejected":return a.jsx(f.Z,{className:"w-5 h-5 text-red-500"});default:return a.jsx(j.Z,{className:"w-5 h-5 text-yellow-500"})}},v=e=>{switch(e){case"approved":return"text-green-700 bg-green-100";case"rejected":return"text-red-700 bg-red-100";default:return"text-yellow-700 bg-yellow-100"}};return u?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",e?.full_name,"!"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Here's your academic progress overview"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"card",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 bg-primary-100 rounded-lg",children:a.jsx(y.Z,{className:"w-6 h-6 text-primary-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Points"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalPoints})]})]})}),a.jsx("div",{className:"card",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:a.jsx(j.Z,{className:"w-6 h-6 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Review"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.pendingCertificates})]})]})}),a.jsx("div",{className:"card",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(N.Z,{className:"w-6 h-6 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.approvedCertificates})]})]})}),a.jsx("div",{className:"card",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:a.jsx(b,{className:"w-6 h-6 text-red-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming Deadlines"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.upcomingDeadlines})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Certificates"}),(0,a.jsxs)("button",{className:"btn btn-primary flex items-center gap-2",children:[a.jsx(w,{className:"w-4 h-4"}),"Upload New"]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[l.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[p(e.status),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Submitted ",(0,g.Z)(n(e.created_at))," ago"]})]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${v(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]},e.id)),0===l.length&&(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(y.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No certificates uploaded yet"}),a.jsx("p",{className:"text-sm",children:"Upload your first certificate to get started!"})]})]})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming Deadlines"}),(0,a.jsxs)("div",{className:"space-y-3",children:[d.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[a.jsx(b,{className:"w-4 h-4 text-primary-600 mt-1 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Due ",(0,g.Z)(n(e.registration_deadline))," from now"]})]})]},`${e.id}-${"start_datetime"in e?"event":"workshop"}`)),0===d.length&&a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No upcoming deadlines"})]})]}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Notifications"}),(0,a.jsxs)("div",{className:"space-y-3",children:[o.map(e=>(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[a.jsx(D.Z,{className:"w-4 h-4 text-primary-600 mt-1 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.title}),a.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:e.message}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:[(0,g.Z)(n(e.created_at))," ago"]})]})]},e.id)),0===o.length&&a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No new notifications"})]})]})]})]})]})})}t(381);var C=t(5047),Z=t(2751);let _=(0,v.Z)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var U=t(4019);let q=(0,v.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function P(){let{notifications:e,unreadCount:s,markAsRead:t,markAllAsRead:r}=(0,Z.z)(),[l,c]=(0,i.useState)(!1),d=e=>{switch(e){case"certificate":return"\uD83D\uDCCB";case"points":return"\uD83C\uDFC6";case"event":return"\uD83D\uDCC5";case"workshop":return"\uD83C\uDF93";default:return"\uD83D\uDD14"}},x=async e=>{await t(e)},o=async()=>{await r()};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>c(!l),className:"relative p-2 text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 rounded-lg",children:[a.jsx(D.Z,{className:"w-6 h-6"}),s>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:s>9?"9+":s})]}),l&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),(0,a.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-20 max-h-96 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[s>0&&(0,a.jsxs)("button",{onClick:o,className:"text-sm text-primary-600 hover:text-primary-800 flex items-center space-x-1",title:"Mark all as read",children:[a.jsx(_,{className:"w-4 h-4"}),a.jsx("span",{children:"Mark all read"})]}),a.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(U.Z,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto",children:0===e.length?(0,a.jsxs)("div",{className:"p-8 text-center",children:[a.jsx(D.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications"}),a.jsx("p",{className:"text-gray-500",children:"You're all caught up!"})]}):a.jsx("div",{className:"divide-y divide-gray-200",children:e.slice(0,10).map(e=>a.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer ${e.is_read?"":"bg-blue-50"}`,onClick:()=>{e.is_read||x(e.id)},children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("span",{className:"text-lg",children:d(e.type)})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${e.is_read?"text-gray-600":"text-gray-900"}`,children:e.title}),!e.is_read&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 ml-2"})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:e.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:(0,g.Z)(n(e.created_at),{addSuffix:!0})})]}),!e.is_read&&a.jsx("button",{onClick:s=>{s.stopPropagation(),x(e.id)},className:"flex-shrink-0 text-gray-400 hover:text-gray-600",title:"Mark as read",children:a.jsx(q,{className:"w-4 h-4"})})]})},e.id))})}),e.length>10&&a.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:a.jsx("button",{onClick:()=>{c(!1)},className:"text-sm text-primary-600 hover:text-primary-800",children:"View all notifications"})})]})]})]})}let T=(0,v.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),M=(0,v.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function S({children:e}){let{user:s,logout:t}=(0,r.a)(),i=(0,C.useRouter)(),l=[{name:"Dashboard",href:"/dashboard",roles:["student","faculty","admin"]},{name:"Review",href:"/faculty",roles:["faculty","admin"]},{name:"Admin",href:"/admin",roles:["admin"]}].filter(e=>s&&e.roles.includes(s.role));return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"SDMS"})}),a.jsx("nav",{className:"hidden md:flex space-x-8",children:l.map(e=>a.jsx("button",{onClick:()=>i.push(e.href),className:"text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:e.name},e.name))}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(P,{}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(T,{className:"w-8 h-8 text-gray-400 bg-gray-100 rounded-full p-1"}),(0,a.jsxs)("div",{className:"hidden md:block",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:s?.full_name}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:s?.role})]})]}),a.jsx("button",{onClick:()=>{t(),i.push("/auth/login")},className:"text-gray-400 hover:text-gray-600 p-2",title:"Logout",children:a.jsx(M,{className:"w-5 h-5"})})]})]})]})})}),a.jsx("main",{children:e})]})}function z(){let{user:e}=(0,r.a)();return a.jsx(S,{children:a.jsx(k,{})})}},8256:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\Arnold E\Downloads\sd-dep\frontend\src\app\dashboard\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[893,839,659],()=>t(1802));module.exports=a})();